/*!
 * jsGlossary Plugin v1.0.0
 * https://github.com/nicholaswilcox/jsGlossary
 *
 * Copyright 2016 Nicholas Wilcox
 * Released under the MIT license
 */
 var Glossary=function(){return defaults={dataSource:"glossary.json",linkSelector:"a.glossaryTerm",dataLoadErrorMessage:"There was an error retrieving the data file: ",definitionLookupErrorMessage:"error: no definition found",hoverTitleMessage:"click to expand this term's definition",closeTitleMessage:"click to close this term's definition"},{init:function(){function e(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var t=this;arguments[0]&&"object"==typeof arguments[0]?t.options=e(defaults,arguments[0]):t.options=defaults;var s=new XMLHttpRequest;s.open("GET",t.options.dataSource),s.onreadystatechange=function(e){function s(e){e.onclick=function(e){e.preventDefault(),this.previousSibling.removeChild(this.previousSibling.querySelector("span")),this.previousSibling.innerHTML=this.previousSibling.innerHTML.trim(),this.previousSibling.title=t.options.hoverTitleMessage,this.previousSibling.className=this.previousSibling.className.replace(" opened",""),this.parentNode.removeChild(this)}}if(this.readyState==this.DONE&&200==this.status){if(null!=this.responseText){var o=JSON.parse(this.responseText),n=document.querySelectorAll(t.options.linkSelector);for(i=0;i<n.length;i++)n[i].title=t.options.hoverTitleMessage,n[i].onclick=function(e){if(-1==this.className.indexOf("opened")){e.preventDefault();var i=this.getAttribute("data-term");this.title="";var n="";n=o.glossary[i]?o.glossary[i]:t.options.definitionLookupErrorMessage,this.className+=" opened",this.innerHTML+=' <span class="glossaryDefinition">('+n+")</span>";var r=document.createElement("a");r.className="closeGlossaryTerm",r.href="#",r.title=t.options.closeTitleMessage,r.innerHTML="&nbsp;",this.parentNode.insertBefore(r,this.nextSibling),s(this.nextSibling)}}}}else 404==this.status&&console.log(t.options.dataLoadErrorMessage+this.status+" status")},s.send()}}}();
